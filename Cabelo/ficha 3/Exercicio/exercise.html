<!doctype html>
<html>

<head>
  <title>ACR AJAX</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<body style="padding: 40px;">

  <ul>
    <li><a href="index.html">Fetch API</a></li>
    <li><a href="jquery.html">jQuery AJAX</a></li>
    <li><a href="exercise.html">Exercise</a></li>
    <li><a href="xhr.html">XMLHttpRequest</a></li>
  </ul>

  <div class="container">
    <h3>Fetch Exercise</h3>
    <button id="btn1">list posts</button>
    <button id="btn2">post 1</button>
    <button id="btn3">user 1 todos</button>
    <button id="btn4">user 1 completed todos</button>
  </div>

  <div id="result">
  </div>

  <script>
    $('#btn1').click(function () {
      fetch('https://jsonplaceholder.typicode.com/posts')
        .then(function (data) {

          return data.json();
        })
        .then(function (data2) {
          console.log(data2)
        })
        .catch(function (err) {
          console.log("Something went wrong!", err);
        });
    }),
      $('#btn2').click(function () {
        fetch('https://jsonplaceholder.typicode.com/posts?userId=1')
          .then(function (data) {
            return data.json();
          })
          .then(function (data2) {
            console.log(data2)
          })
          .catch(function (err) {
            console.log("Something went wrong!", err);
          });
      })
    $('#btn3').click(function () {
      fetch('https://jsonplaceholder.typicode.com/todos?userId=2')
        .then(function (data) {
          return data.json();
        })
        .then(function (data2) {
          console.log(data2)
        })
        .catch(function (err) {
          console.log("Something went wrong!", err);
        });
    })

    $('#btn4').click(function () {
      fetch('https://jsonplaceholder.typicode.com/todos?userId=1&completed=true')
        .then(function (data) {
          return data.json();
        })
        .then(function (data2) {
          console.log(data2)
        })
        .catch(function (err) {
          console.log("Something went wrong!", err);
        });
    })

     $('<button/>').appendTo('.container')
     .text('btn5')
     .click(function () { 
       fetch('https://jsonplaceholder.typicode.com/albums?userId=2')
         .then(function (data) {
           return data.json();
         })
         .then(function (data2) {
           console.log(data2)
         })
         .catch(function (err) {
           console.log("Something went wrong!", err);
         });
     })
     //this one is wrong:
     $('<button/>').appendTo('.container')
     .text('btn6')
     .click(function () { 
       fetch('https://jsonplaceholder.typicode.com/photos?albumId=3')
         .then(function (data) {
           return data.json();
         })
         .then(function (data2) {
           console.log(data2[0].title)
           console.log(data2[0].thumbnailUrl)
         })
         .catch(function (err) {
           console.log("Something went wrong!", err);
         });
     })


  </script>
</body>

</html>